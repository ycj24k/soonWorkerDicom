# soonWorkerDicom 项目功能需求与工时预估详单

**项目名称**：soonWorkerDicom 医学影像工作站 **评估日期**：2026-01-06 **评估标准**：高级全栈开发工程师（Electron/Vue/DICOM 专业领域） **总计预估工时**：**366 小时**

---

## 1. 核心架构与工程化 (Foundation)

| 功能模块     | 子功能点          | 详细需求说明                                                                                   | 技术实现难度 | 预估工时(h) |
| :----------- | :---------------- | :--------------------------------------------------------------------------------------------- | :----------- | :---------- |
| **基础架构** | Electron 容器搭建 | 主进程/渲染进程通信架构，窗口管理（尺寸、最大化、毛玻璃效果），单实例锁，应用生命周期管理。    | 中           | 8h          |
|              | 工程化配置        | Webpack 自定义配置（Loader/Alias），Vue 2 + Vuex + Router 环境搭建，ESLint/Prettier 规范配置。 | 中           | 6h          |
|              | 多语言支持 (i18n) | 实现中英文动态切换框架，提取并翻译 500+ 词条，ElementUI 组件库语言包集成。                     | 低           | 6h          |
|              | 自动更新与打包    | Electron-builder 跨平台打包配置（Windows nsis/macOS dmg），应用签名，自动更新机制。            | 高           | 12h         |
| **小计**     |                   |                                                                                                |              | **32h**     |

## 2. DICOM 数据内核 (Data Core)

| 功能模块     | 子功能点       | 详细需求说明                                                                                 | 技术实现难度 | 预估工时(h) |
| :----------- | :------------- | :------------------------------------------------------------------------------------------- | :----------- | :---------- |
| **目录解析** | 智能递归扫描   | 支持拖拽或选择文件夹，递归扫描 1-6 层子目录，过滤隐藏文件/系统文件，能够处理万级小文件列表。 | 高           | 16h         |
|              | DICOM 文件识别 | 实现基于文件头（Magic Number）和扩展名的双重校验机制，确保只解析标准 DICOM 文件。            | 中           | 8h          |
|              | 数据结构化     | 构建 Patient -> Study -> Series -> Instance 四级数据模型，实现多 Patient 目录的自动归类。    | 高           | 12h         |
| **性能优化** | 缩略图生成服务 | 独立服务解析 DICOM 头部关键帧，生成 Base64 缩略图，采用队列机制防止界面卡顿。                | 高           | 14h         |
|              | 动态影像检测   | 自动识别 Multi-frame Cine 文件或同一序列下的时间轴影像，标记动态属性。                       | 中           | 6h          |
| **小计**     |                |                                                                                              |              | **56h**     |

## 3. 影像渲染引擎 (Rendering Engine)

| 功能模块             | 子功能点     | 详细需求说明                                                                                                 | 技术实现难度 | 预估工时(h) |
| :------------------- | :----------- | :----------------------------------------------------------------------------------------------------------- | :----------- | :---------- |
| **Cornerstone 集成** | 渲染器初始化 | 集成 Cornerstone.js 核心库，配置 WebGL/Canvas 渲染上下文，处理不同分辨率下的像素比。                         | 高           | 10h         |
|                      | WADO Loader  | 配置 WADO Image Loader，支持本地 `wadouri` 协议，解决跨域及文件读取权限问题。                                | 高           | 12h         |
|                      | 编解码支持   | 集成 Web Worker 多线程解码器，支持 JPEG Lossless, JPEG 2000, RLE, Explicit VR Little Endian 等医学传输语法。 | 极高         | 24h         |
|                      | 内存管理     | 实现 LRU (最近最少使用) 缓存策略，自动释放不可见视口的显存，防止大影像序列导致崩溃。                         | 高           | 10h         |
| **小计**             |              |                                                                                                              |              | **56h**     |

## 4. 影像交互工具集 (Toolbox)

| 功能模块     | 子功能点     | 详细需求说明                                                             | 技术实现难度 | 预估工时(h) |
| :----------- | :----------- | :----------------------------------------------------------------------- | :----------- | :---------- |
| **基础工具** | 调窗 (W/L)   | 支持鼠标拖拽调整窗宽窗位，内置预设（肺窗、骨窗、脑窗等）。               | 中           | 8h          |
|              | 变换操作     | 平移 (Pan) 、缩放 (Zoom，以鼠标为中心)、重置 (Reset) 功能实现。          | 中           | 6h          |
|              | 几何变换     | 旋转 (Rotate 90 度/任意角度)、水平/垂直翻转 (Flip) 功能。                | 中           | 6h          |
|              | 鼠标交互定义 | 左键/右键/滚轮/中键的工具绑定配置（如：右键调窗，滚轮翻页，左键选择）。  | 低           | 4h          |
| **测量工具** | 长度/角度    | 长度测量（读取 PixelSpacing 自动换算毫米），角度测量（Cobb 角）。        | 中           | 10h         |
|              | ROI 分析     | 矩形/椭圆感兴趣区域绘制，实时计算区域内像素最大值/最小值/平均值/标准差。 | 高           | 12h         |
|              | 探针工具     | 实时显示鼠标位置的 DICOM 坐标及 HU 值 (CT 值)。                          | 中           | 6h          |
| **小计**     |              |                                                                          |              | **52h**     |

## 5. 动态多视口布局 (Dynamic Grid)

| 功能模块     | 子功能点     | 详细需求说明                                                                             | 技术实现难度 | 预估工时(h) |
| :----------- | :----------- | :--------------------------------------------------------------------------------------- | :----------- | :---------- |
| **网格系统** | 动态布局生成 | 支持 1x1, 1x2, 2x2, 3x3 等标准布局切换，支持自定义 M x N 网格生成。                      | 高           | 16h         |
|              | 视口状态管理 | 选中视口高亮，视口独立的状态存储（当前序列、当前帧、工具状态），支持序列拖拽投射到视口。 | 高           | 14h         |
|              | 同步操作     | 实现多视口间的操作同步（Sync），包括同步缩放、同步滚动、同步调窗。                       | 高           | 10h         |
| **小计**     |              |                                                                                          |              | **40h**     |

## 6. 播放控制系统 (Cine Player)

| 功能模块     | 子功能点  | 详细需求说明                                                                | 技术实现难度 | 预估工时(h) |
| :----------- | :-------- | :-------------------------------------------------------------------------- | :----------- | :---------- |
| **播放引擎** | 循环播放  | 实现基于 RequestAnimationFrame 的高性能播放循环，支持正放、倒放、乒乓播放。 | 高           | 12h         |
|              | 帧率控制  | 可调节播放速度 (1-60 FPS)，确保渲染帧率平滑稳定。                           | 中           | 8h          |
|              | 播放器 UI | 底部浮动播放条，包含进度条拖拽、上一帧/下一帧、播放/暂停、首尾跳转控制。    | 中           | 8h          |
| **小计**     |           |                                                                             |              | **28h**     |

## 7. 业务 UI 与交互 (Business UI)

| 功能模块     | 子功能点     | 详细需求说明                                                                                      | 技术实现难度 | 预估工时(h) |
| :----------- | :----------- | :------------------------------------------------------------------------------------------------ | :----------- | :---------- |
| **界面组件** | 侧边栏       | 序列树形列表组件，支持折叠/展开，缩略图懒加载展示，序列信息 Tooltip。                             | 中           | 12h         |
|              | 信息叠加层   | 视口四角 Overlay 信息展示（患者名、ID、性别、检查日期、设备型号、序列号、窗宽窗位值、缩放比例）。 | 中           | 8h          |
|              | 顶部工具栏   | 响应式工具栏，工具激活状态反馈，下拉菜单（布局、设置），关于页面。                                | 低           | 8h          |
|              | 序列详细信息 | 弹窗展示完整的 DICOM Tag 列表，支持 Tag 代码/名称搜索过滤。                                       | 低           | 6h          |
| **小计**     |              |                                                                                                   |              | **34h**     |

## 8. 系统联调与测试 (Integration & Testing)

| 功能模块     | 子功能点   | 详细需求说明                                         | 技术实现难度 | 预估工时(h) |
| :----------- | :--------- | :--------------------------------------------------- | :----------- | :---------- |
| **系统测试** | 兼容性测试 | 不同厂商设备 (GE, Siemens, Philips) 影像兼容性测试。 | -            | 24h         |
|              | 性能调优   | FPS 帧率优化，大文件加载速度优化，内存泄漏排查。     | -            | 20h         |
|              | Bug 修复   | 集中式 Bug 修复与回归测试。                          | -            | 24h         |
| **小计**     |            |                                                      |              | **68h**     |

---

## 汇总

| 序号     | 模块名称          | 预估工时 (小时) | 占比     |
| :------- | :---------------- | :-------------- | :------- |
| 1        | 核心架构与工程化  | 32h             | 8.7%     |
| 2        | DICOM 数据内核    | 56h             | 15.3%    |
| 3        | 影像渲染引擎      | 56h             | 15.3%    |
| 4        | 影像交互工具集    | 52h             | 14.2%    |
| 5        | 动态多视口布局    | 40h             | 10.9%    |
| 6        | 播放控制系统      | 28h             | 7.7%     |
| 7        | 业务 UI 与交互    | 34h             | 9.3%     |
| 8        | 系统联调与测试    | 68h             | 18.6%    |
| **总计** | **Project Total** | **366h**        | **100%** |
